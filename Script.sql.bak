---BANCO POSTO---

CREATE DOMAIN "INTEGER" AS
INTEGER;

CREATE DOMAIN VARCHAR_001 AS
VARCHAR(1) CHARACTER SET ISO8859_1
COLLATE PT_BR;

CREATE DOMAIN VARCHAR_003 AS
VARCHAR(3) CHARACTER SET ISO8859_1
COLLATE ISO8859_1;

CREATE TABLE P_TANQUE (
    TANQUE_ID         INTEGER NOT NULL,
    TIPO_COMBUSTIVEL  VARCHAR_001 /* VARCHAR_001 = VARCHAR(1) */
);

ALTER TABLE P_TANQUE ADD CONSTRAINT PK_P_TANQUE PRIMARY KEY (TANQUE_ID);

INSERT INTO P_TANQUE (TANQUE_ID, TIPO_COMBUSTIVEL)
			VALUES (1, 'G');
INSERT INTO P_TANQUE (TANQUE_ID, TIPO_COMBUSTIVEL) 
			VALUES (2, 'D');

COMMIT WORK;
-----------------------------------------------------------------------------

CREATE TABLE P_BOMBA (
    BOMBA_ID    INTEGER NOT NULL,
    TANQUE_ID   INTEGER,
    NOME_BOMBA  VARCHAR_003 /* VARCHAR_003 = VARCHAR(3) */
);

ALTER TABLE P_BOMBA ADD CONSTRAINT PK_P_BOMBA PRIMARY KEY (BOMBA_ID);
ALTER TABLE P_BOMBA ADD CONSTRAINT FK_P_BOMBA_1 FOREIGN KEY (TANQUE_ID) REFERENCES P_TANQUE (TANQUE_ID);

INSERT INTO P_BOMBA (BOMBA_ID, TANQUE_ID, NOME_BOMBA)
             VALUES (1, 1, 'B1');
INSERT INTO P_BOMBA (BOMBA_ID, TANQUE_ID, NOME_BOMBA)
             VALUES (2, 1, 'B2');
INSERT INTO P_BOMBA (BOMBA_ID, TANQUE_ID, NOME_BOMBA)
             VALUES (3, 2, 'B3');
INSERT INTO P_BOMBA (BOMBA_ID, TANQUE_ID, NOME_BOMBA)
             VALUES (4, 2, 'B4');

COMMIT WORK;

-----------------------------------------------------------------------------

CREATE TABLE P_ABASTECIMENTO (
    ABASTECIMENTO_ID   INTEGER NOT NULL,
    BOMBA_ID           INTEGER,
    QUANTIDADE_LITROS  NUMERIC(10,2),
    VALOR_ABASTECIDO   NUMERIC(10,2),
    IMPOSTO            NUMERIC(10,2),
    DATA               TIMESTAMP
);

ALTER TABLE P_ABASTECIMENTO ADD CONSTRAINT PK_P_ABASTECIMENTO PRIMARY KEY (ABASTECIMENTO_ID);
ALTER TABLE P_ABASTECIMENTO ADD CONSTRAINT FK_P_ABASTECIMENTO_1 FOREIGN KEY (BOMBA_ID) REFERENCES P_BOMBA (BOMBA_ID);

